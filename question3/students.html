<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Management Dashboard — Computer Science Students - Batch 2022</title>
  <meta name="description" content="Student table with rowspan/colspan, summary and accessibility for Computer Science Students - Batch 2024" />
  <style>
    :root { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#222; line-height:1.45; }
    body { margin:0; padding:1rem; max-width:1100px; margin-left:auto; margin-right:auto; background:#f7f8fb; }
    header { padding: .5rem 0 1.25rem 0; }
    h1 { margin:0 0 .25rem 0; font-size:1.5rem; }
    .controls { display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; margin: .75rem 0 1.25rem 0; }
    .table-wrap { overflow:auto; background:white; border-radius:8px; padding: .5rem; box-shadow: 0 1px 4px rgba(0,0,0,.06); }
    table { border-collapse:collapse; width:100%; min-width:880px; }
    caption { caption-side:top; text-align:left; font-weight:700; padding:.5rem 0; font-size:1.05rem; }
    thead th { background:#f0f6fb; border-bottom:2px solid #e1e8f2; padding:.6rem .5rem; text-align:left; }
    tbody td { padding:.6rem .5rem; border-bottom:1px solid #f1f3f6; vertical-align:middle; }
    tfoot td { padding:.6rem .5rem; font-weight:600; background:#fafafa; }
    .badge { display:inline-block; padding:.18rem .45rem; border-radius:999px; font-size:.78rem; }
    .status-active { background:#e6ffef; color:#087a3d; border:1px solid #c8f0d9; }
    .status-inactive { background:#fff6e6; color:#8a5b00; border:1px solid #ffeac7; }
    .small { font-size:.9rem; color:#444; }
    .summary { margin-top:1rem; background:#fff; padding:1rem; border-radius:8px; box-shadow: 0 1px 3px rgba(0,0,0,.04); }
    dl { display:grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap: .5rem 1.2rem; margin:0; }
    dt { font-weight:700; }
    dd { margin:0; }
    @media (max-width:900px) { table { min-width:760px; } }
  </style>
</head>
<body>
  <header>
    <h1>Computer Science Students - Batch 2022</h1>
  </header>

  <main>
    <div class="table-wrap" role="region" aria-labelledby="tableTitle">
      <table id="studentsTable" aria-describedby="tableDesc">
        <caption id="tableTitle">Computer Science Students - Batch 2024</caption>
        <p id="tableDesc" class="small sr-only" style="position:absolute;left:-10000px">This table lists students, their enrolled course(s), contact info, semester, GPA and status. Some students have multiple courses (rows use rowspan).</p>

        <colgroup>
          <col style="width:10%" />
          <col style="width:18%" />
          <col style="width:20%" />
          <col style="width:6%" />
          <col style="width:20%" />
          <col style="width:12%" />
          <col style="width:6%" />
          <col style="width:8%" />
        </colgroup>

        <thead>
          <tr>
            <th scope="col">Student ID</th>
            <th scope="col">Student Name</th>
            <th scope="col">Course Name</th>
            <th scope="col">Credits</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Semester</th>
            <th scope="col">GPA</th>
            <th scope="col">Status</th>
          </tr>
        </thead>

        <tbody>
       
          <tr data-student-id="CS2022001">
            <td scope="row">CS2022001</td>
            <td>Narendra Ganapathi</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71141@gmail.com</td>
            <td>9222333444</td>
            <td>6</td>
            <td>7.35</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

          <tr data-student-id="CS2022002">
            <td scope="row">CS2022002</td>
            <td>Chandra</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71142@gmail.com</td>
            <td>987654321</td>
            <td>6</td>
            <td>9.14</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

          <tr data-student-id="CS2022003">
            <td scope="row">CS2022003</td>
            <td>Jay</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71143@gmail.com</td>
            <td>987654321</td>
            <td>6</td>
            <td>7.90</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

          <tr data-student-id="CS2022004">
            <td scope="row">CS2022004</td>
            <td>Sathiya</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71144@gmail.com</td>
            <td>123456785</td>
            <td>6</td>
            <td>7.40</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

          <tr data-student-id="CS2022005">
            <td scope="row">CS2022005</td>
            <td>Naren</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71145@gmail.com</td>
            <td>123456785</td>
            <td>6</td>
            <td>8.35</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

          <tr data-student-id="CS2022006">
            <td scope="row">CS2022006</td>
            <td>Bharath</td>
            <td>Algorithms</td>
            <td>4</td>
            <td>msdgana71146@gmail.com</td>
            <td>123456789</td>
            <td>6</td>
            <td>8.20</td>
            <td><span class="badge status-active">Active</span></td>
          </tr>

        </tbody>

        <tfoot>
          <tr>
            <td colspan="4">Total unique students: <span id="totalStudents">—</span></td>
            <td colspan="3">Average GPA: <span id="averageGpa">—</span></td>
            <td colspan="1">Active: <span id="countActive">—</span></td>
            <td colspan="1">Inactive: <span id="countInactive">—</span></td>
          </tr>
        </tfoot>
      </table>
    </div>

    <section aria-labelledby="summaryTitle" class="summary">
      <h2 id="summaryTitle">Table summary</h2>

      <dl>
        <div>
          <dt>Total unique students</dt>
          <dd id="sumTotalStudents">—</dd>
        </div>

        <div>
          <dt>Average GPA</dt>
          <dd id="sumAverageGpa">—</dd>
        </div>

        <div>
          <dt>Active students</dt>
          <dd id="sumActive">—</dd>
        </div>

        <div>
          <dt>Inactive students</dt>
          <dd id="sumInactive">—</dd>
        </div>
      </dl>
    </section>
  </main>

  <script>

    (function () {
      const table = document.getElementById('studentsTable');
      const tbody = table.tBodies[0];
      const rows = Array.from(tbody.rows);

      const students = []; 
      rows.forEach(row => {
        const firstCell = row.cells[0];
      
        const studentId = firstCell && firstCell.textContent.trim();
        if (studentId) {
    
          const nameCell = row.cells[1];
          const name = nameCell ? nameCell.textContent.trim() : '';

          const gpaCell = row.querySelector('td:nth-child(8)');
          const gpaText = gpaCell ? gpaCell.textContent.trim() : '';
          const gpa = parseFloat(gpaText) || NaN;

          const statusCell = row.cells[row.cells.length - 1];
          const statusText = statusCell ? statusCell.textContent.trim().toLowerCase() : '';
          const isActive = statusText.includes('active');
          students.push({
            id: studentId,
            name,
            gpa,
            status: isActive ? 'active' : 'inactive'
          });
        }
      });

    
      const totalStudents = students.length;
      const gpas = students.map(s => s.gpa).filter(n => !isNaN(n));
      const avgGpa = gpas.length ? (gpas.reduce((a,b) => a + b, 0) / gpas.length) : NaN;
      const activeCount = students.filter(s => s.status === 'active').length;
      const inactiveCount = students.filter(s => s.status === 'inactive').length;

      const setText = (id, value) => {
        const el = document.getElementById(id);
        if (!el) return;
        el.textContent = value;
      };

      setText('totalStudents', totalStudents);
      setText('averageGpa', Number.isFinite(avgGpa) ? avgGpa.toFixed(2) : '—');
      setText('countActive', activeCount);
      setText('countInactive', inactiveCount);

      setText('sumTotalStudents', totalStudents);
      setText('sumAverageGpa', Number.isFinite(avgGpa) ? avgGpa.toFixed(2) : '—');
      setText('sumActive', activeCount);
      setText('sumInactive', inactiveCount);

     
      const foot = table.tFoot;
      if (foot) foot.setAttribute('role', 'contentinfo');

      window.refreshStudentSummary = function () {
    
        location.reload();
      };
    })();
  </script>
</body>
</html>
